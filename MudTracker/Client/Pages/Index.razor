@page "/"
@using MudTracker.Shared
@inject HttpClient Http

@if(ChanceOfMud == null)
{
    <h1 class="display-4">Checking weather...</h1>
}
else 
{
    <div class="jumbotron">
        <h1 class="display-4">@((Int32)ChanceOfMud.Probability) %</h1>
        <p class="lead">@ChanceOfMud.Message</p>
        <hr class="my-4">
        <p>This utility is not liable for ruined socks or shoes</p>
    </div>
}

@code {
    private ChanceOfMudProbability ChanceOfMud;

    protected override async Task OnInitializedAsync()
    {
        ChanceOfMud = await Http.GetFromJsonAsync<ChanceOfMudProbability>("WeatherForecast/ChanceOfMud");
    }
}